(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{661:function(e,t,a){"use strict";a.r(t);var s=a(7),l=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[a("img",{attrs:{src:"https://atlas.pingcode.com/files/public/623adc7edf5f451e93d005d3",alt:"image.png"}})])]),e._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#一、什么是helm"}},[e._v("一、什么是Helm")])]),a("li",[a("a",{attrs:{href:"#二、helm带来的便捷"}},[e._v("二、Helm带来的便捷")])]),a("li",[a("a",{attrs:{href:"#三、-helm-工作原理及架构演变"}},[e._v("三、 Helm 工作原理及架构演变")]),a("ul",[a("li",[a("a",{attrs:{href:"#_3-1、工作原理"}},[e._v("3.1、工作原理")])]),a("li",[a("a",{attrs:{href:"#_3-2、架构演变"}},[e._v("3.2、架构演变")])])])]),a("li",[a("a",{attrs:{href:"#五、helm-组件及相关术语"}},[e._v("五、Helm 组件及相关术语")])]),a("li",[a("a",{attrs:{href:"#六、helm常用命令"}},[e._v("六、Helm常用命令")])]),a("li",[a("a",{attrs:{href:"#七、推荐仓库"}},[e._v("七、推荐仓库")])]),a("li",[a("a",{attrs:{href:"#八、charts"}},[e._v("八、Charts")]),a("ul",[a("li",[a("a",{attrs:{href:"#_8-1、目录结构"}},[e._v("8.1、目录结构")])]),a("li",[a("a",{attrs:{href:"#_8-2、构建一个无状态应用模版charts"}},[e._v("8.2、构建一个无状态应用模版charts")])])])])])]),a("p"),e._v(" "),a("blockquote",[a("p",[e._v("参考文档 ：")]),e._v(" "),a("p",[e._v("https://helm.sh/docs/")]),e._v(" "),a("p",[e._v("https://github.com/helm/helm")])]),e._v(" "),a("h2",{attrs:{id:"一、什么是helm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、什么是helm"}},[e._v("#")]),e._v(" 一、什么是Helm")]),e._v(" "),a("ul",[a("li",[e._v("Helm是Kubernetes的包管理器，类似于Python的pip centos的yum,主要用来管理 Charts。")]),e._v(" "),a("li",[e._v("Helm Chart是用来封装Kubernetes原生应用程序的一系列YAML文件。可以在你部署应用的时候自定义应用程序的一些Metadata，以便于应用程序的分发。对于应用发布者而言，可以通过Helm打包应用、管理应用依赖关系、管理应用版本并发布应用到软件仓库。")])]),e._v(" "),a("h2",{attrs:{id:"二、helm带来的便捷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、helm带来的便捷"}},[e._v("#")]),e._v(" 二、Helm带来的便捷")]),e._v(" "),a("ul",[a("li",[e._v("我们日常在K8S中部署可用应用时，需要涉及到很多的K8S资源的共同协作(Controller、Service、Configmap、Secret、RBAC、PV、PVC、Ingress等一系列资源)，这些资源过于分散，不方便管理以及定义方式的局限性，直接提供kubectl来管理和生效YAML配置创建可用应用，让人头疼，不便于维护。")]),e._v(" "),a("li",[e._v("在部署一个应用，会遇到哪些问题：\n"),a("ul",[a("li",[e._v("如何统一管理、配置和更新这些分散的k8s的应用资源文件；")]),e._v(" "),a("li",[e._v("如何分发和复用应用模板；")]),e._v(" "),a("li",[e._v("如何将应用的一系列资源当做一个软件包管理；")])])]),e._v(" "),a("li",[e._v("对于使用者而言，使用Helm后不用需要编写复杂的应用部署文件，可以以简单的方式在K8S上查找、安装、升级、回滚、卸载应用程序；")])]),e._v(" "),a("h2",{attrs:{id:"三、-helm-工作原理及架构演变"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、-helm-工作原理及架构演变"}},[e._v("#")]),e._v(" 三、 Helm 工作原理及架构演变")]),e._v(" "),a("h3",{attrs:{id:"_3-1、工作原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1、工作原理"}},[e._v("#")]),e._v(" 3.1、工作原理")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://atlas.pingcode.com/files/public/623aced1919926508797e9d1",alt:"image.png"}})]),e._v(" "),a("p",[e._v("Chart Install 过程")]),e._v(" "),a("ul",[a("li",[e._v("Helm 从指定的目录或者 TAR 文件中解析出 Chart 结构信息。")]),e._v(" "),a("li",[e._v("Heml 将指定的 Chart 结构和 Values 信息通过 gRPC 传递给 Tiller。")]),e._v(" "),a("li",[e._v("Tiller 根据 Chart 和 Values 生成一个 Release。")]),e._v(" "),a("li",[e._v("Tiller 根据 Release 发送给 Kubernetes 用于生成 Release。")])]),e._v(" "),a("p",[e._v("Chart Update 过程")]),e._v(" "),a("ul",[a("li",[e._v("Helm 从指定的目录或者 TAR 文件中解析出 Chart 结构信息。")]),e._v(" "),a("li",[e._v("Helm 将需要更新的 Release 的名称、Chart结构和 Values 信息传递给 Tiller。")]),e._v(" "),a("li",[e._v("Tiller 生成 Release 并更新指定名称的 Release 和 History。")]),e._v(" "),a("li",[e._v("Tiller 将 Release 发送给 Kubernetes 用于更新 Release。")])]),e._v(" "),a("p",[e._v("Chart Rollback 过程")]),e._v(" "),a("ul",[a("li",[e._v("Helm 将要回滚的 Release 的名称传递给 Tiller。")]),e._v(" "),a("li",[e._v("Tiller 根据 Release 的名称查找 History。")]),e._v(" "),a("li",[e._v("Tiller 从 History 中获取上一个 Release。")]),e._v(" "),a("li",[e._v("Tiller 将上一个 Release 发送给 Kubernetes 用于替换当前 Release。")])]),e._v(" "),a("h3",{attrs:{id:"_3-2、架构演变"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2、架构演变"}},[e._v("#")]),e._v(" 3.2、架构演变")]),e._v(" "),a("ul",[a("li",[e._v("在2019 年 11 月 4 日，Helm 社区 repo 中提供 安全审计报告 ， Helm v3 中的访问控制与 Helm v2 中的访问控制发生变更；\n"),a("ul",[a("li",[e._v("移除 Tiller")]),e._v(" "),a("li",[e._v("支持将 Chart 推送至 Docker 镜像仓库中")]),e._v(" "),a("li",[e._v("使用JSONSchema验证chart values")]),e._v(" "),a("li",[e._v("给helm charts添加test了，通过helm test命令 针对部署的应用跑tests")]),e._v(" "),a("li",[e._v("部署时release name必须指定，helm2时可自动随机生成")]),e._v(" "),a("li",[e._v("删除时无须再使用 –purge")]),e._v(" "),a("li",[e._v("为了更好地协调其他包管理者的措辞 Helm CLI 个别更名；helm delete更名为helm uninstall，helm inspect更名为helm show，helm fetch更名为helm pull")]),e._v(" "),a("li",[e._v("不再需要requirements.yaml, 依赖关系是直接在chart.yaml中定义")]),e._v(" "),a("li",[e._v("移除了用于本地临时搭建 Chart Repository的 helm serve 命令")])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://atlas.pingcode.com/files/public/623acea3919926508797e9cf",alt:"image.png"}})]),e._v(" "),a("p",[a("img",{attrs:{src:"https://atlas.pingcode.com/files/public/623acd33838833c660d4cd0a",alt:"image.png"}})]),e._v(" "),a("h2",{attrs:{id:"五、helm-组件及相关术语"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、helm-组件及相关术语"}},[e._v("#")]),e._v(" 五、Helm 组件及相关术语")]),e._v(" "),a("ul",[a("li",[e._v("Helm : 命令行下的客户端工具,主要用于 K8S 应用程序 Chart 的创建、打包、发布以及创建和管理本地和远程的 Chart 仓库。")]),e._v(" "),a("li",[e._v("Chart：Helm 包，采用 TAR 格式。其中包含了运行一个应用所需要的镜像、依赖和资源定义等，还可能包含 Kubernetes 集群中的服务定义，类似 Homebrew 中的 formula、APT 的 dpkg 或者 Yum 的 rpm 文件。")]),e._v(" "),a("li",[e._v("Release：在 Kubernetes 集群上运行的 Chart 的一个实例。在同一个集群上，一个 Chart 可以安装很多次。每次安装都会创建一个新的 release。每次安装都会生成自己的 Release，会有自己的 Release 名称。")]),e._v(" "),a("li",[e._v("Repository：用于发布和存储 Chart 的存储库。")]),e._v(" "),a("li",[e._v("Tiller : （v2版本）Helm 的服务端。Tiller 负责接收 Helm 的请求，与 k8s 的 apiserver 交互，根据chart 来生成一个 release 并管理 release。")])]),e._v(" "),a("h2",{attrs:{id:"六、helm常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、helm常用命令"}},[e._v("#")]),e._v(" 六、Helm常用命令")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}}),e._v(" "),a("th")])]),e._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("命令")]),e._v(" "),a("td",[e._v("描述")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("create")]),e._v(" "),a("td",[e._v("创建一个chart并指定名字")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("dependency")]),e._v(" "),a("td",[e._v("管理chart依赖")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("get")]),e._v(" "),a("td",[e._v("下载一个release。可用子命令：all、hooks、manifest、notes、values")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("history")]),e._v(" "),a("td",[e._v("获取release历史")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("install")]),e._v(" "),a("td",[e._v("安装一个chart")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("list")]),e._v(" "),a("td",[e._v("列出release")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("package")]),e._v(" "),a("td",[e._v("将chart目录打包到chart存档文件中")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("pull")]),e._v(" "),a("td",[e._v("从远程仓库中下载chart并解压到本地 # helm pull stable/mysql --untar")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("repo")]),e._v(" "),a("td",[e._v("添加，列出，移除，更新和索引chart仓库。可用子命令：add、index、list、remove、update")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("rollback")]),e._v(" "),a("td",[e._v("从之前版本回滚")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("search")]),e._v(" "),a("td",[e._v("根据关键字搜索chart。可用子命令：hub、repo")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("show")]),e._v(" "),a("td",[e._v("查看chart详细信息。可用子命令：all、chart、readme、values")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("status")]),e._v(" "),a("td",[e._v("显示已命名版本的状态")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("template")]),e._v(" "),a("td",[e._v("本地呈现模板")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("uninstall")]),e._v(" "),a("td",[e._v("卸载一个release")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("upgrade")]),e._v(" "),a("td",[e._v("更新一个release")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[e._v("version")]),e._v(" "),a("td",[e._v("查看helm客户端版本")])])])]),e._v(" "),a("h2",{attrs:{id:"七、推荐仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、推荐仓库"}},[e._v("#")]),e._v(" 七、推荐仓库")]),e._v(" "),a("ul",[a("li",[e._v("难免需要安装一些三方的基础服务，常用仓库如下 ：\n"),a("ul",[a("li",[e._v("bitnami官方地址：  https://bitnami.com/")]),e._v(" "),a("li",[e._v("微软仓库 ： http://mirror.azure.cn/kubernetes/charts/")]),e._v(" "),a("li",[e._v("阿里云仓库 ： https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts")]),e._v(" "),a("li",[e._v("官方仓库 ： https://hub.kubeapps.com/charts/incubator")]),e._v(" "),a("li",[e._v("elasticsearch ： https://helm.elastic.co")])])])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('添加微软仓库为 stable\n$ helm repo add stable http://mirror.azure.cn/kubernetes/charts\n"stable" has been added to your repositories\n \n添加阿里云仓库为 aliyun\n$ helm repo add aliyun https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts \n"aliyun" has been added to your repositories\n\n查看本地已添加的仓库\n$ helm repo list \nNAME    URL                                                   \nstable  http://mirror.azure.cn/kubernetes/charts              \naliyun  https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts\n\n查看仓库所有的包\n$ helm search repo stable\n\n移除仓库\n$ helm repo remove stable\n\n列出仓库中相关的包\n$ helm search repo mysql\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br")])]),a("p"),e._v(" "),a("h2",{attrs:{id:"八、charts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、charts"}},[e._v("#")]),e._v(" 八、Charts")]),e._v(" "),a("h3",{attrs:{id:"_8-1、目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1、目录结构"}},[e._v("#")]),e._v(" 8.1、目录结构")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("demochart/\n├── charts                          # 目录用于存放所依赖的子chart\n├── Chart.yaml                      # 描述这个 Chart 的相关信息、包括名字、描述信息、版本等\n├── templates                       # 模板目录，通常会使用values.yaml配置内容进行填充，板引擎渲染此目录的文件后Tiller将渲染得到的结果 提交给Kubernetes创建响应的对象\n│   ├── deployment.yaml             # deployment 控制器的 Go 模板文件\n│   ├── _helpers.tpl                # 模板助手文件，定义的值可在模板中使用\n│   ├── ingress.yaml                # ingress 的模板文件 \n│   ├── NOTES.txt                   # Chart 部署到集群后的一些信息，例如：如何使用、列出缺省值，可以理解为帮助文档\n│   ├── serviceaccount.yaml\n│   ├── service.yaml                # service 的 Go 模板文件\n└── values.yaml                     # 模板的值文件，这些值会在安装时应用到 GO 模板生成部署文件\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("h3",{attrs:{id:"_8-2、构建一个无状态应用模版charts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2、构建一个无状态应用模版charts"}},[e._v("#")]),e._v(" 8.2、构建一个无状态应用模版charts")]),e._v(" "),a("blockquote",[a("p",[e._v("部分常用语法说明 ： http://masterminds.github.io/sprig/strings.html")])]),e._v(" "),a("ul",[a("li",[e._v("目录结构")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ tree demochart/\ndemochart/\n├── charts\n├── Chart.yaml\n├── templates                   \n│   ├── deployment.yaml  \n└── values.yaml\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("ul",[a("li",[e._v("Chart.yaml")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("apiVersion: v2\nname: demochart\ndescription: A Helm chart for Kubernetes, The author is Daizhe\ntype: application\nversion: 0.1.0\nappVersion: 1.16.0\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("ul",[a("li",[e._v("templates/deployment.yaml")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ vim templates/deployment.yaml \napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: deployment\n  name: {{ .Values.Name }}\nspec:\n  replicas: {{ .Values.replicas }}\n  selector:\n    matchLabels:\n      app: deployment\n  template:\n    metadata:\n      labels:\n        app: deployment\n    spec:\n      containers:\n      - image: {{ .Values.image }}\n        name: nginx\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br")])]),a("ul",[a("li",[e._v("values.yaml")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Name: demo-deploy-nginx\nreplicas: 1\nimage: nginx:latest\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("ul",[a("li",[e._v("install 安装")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ helm install nginx-dep demochart/ --dry-run\n$ helm install nginx-dep demochart/\n$ helm list\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("ul",[a("li",[e._v("upgrade 升级")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ helm upgrade -f values.yaml nginx-dep demochart\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("ul",[a("li",[e._v("rollback 回滚")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ helm history nginx-dep\n$ helm rollback nginx-dep 1\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p")])}),[],!1,null,null,null);t.default=l.exports}}]);